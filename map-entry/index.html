<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,Chrome=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="renderer" content="webkit">
	<title>地图展示过度页</title>
	
	<style type="text/css">
		.map-wrap{
			background: url("img/znz.png") no-repeat 30px 30px;
		}
	</style>
</head>
<body>
	<div class="map-wrap">
		<!-- 地图如果太小，可修改此处的高度 -->
		<div id="main" style="width:100%;height: 600px;"></div>
	</div>

	<script src="jquery.min.js"></script>
	<script src="echarts.js"></script>
	<script src="map/js/fujian.js"></script>
	<script type="text/javascript">
	$(window).load(function(){
		//各个区域对应的链接，需要根据需求自己修改
		var mapLink = [{
			"name" : "福州市",
			"link" : "http://www.baidu.com"
		},{
			"name" : "永泰县",
			"link" : "http://www.baidu.com"
		},{
			"name" : "福清市",
			"link" : "http://www.baidu.com"
		},{
			"name" : "罗源县",
			"link" : "http://www.163.com"
		},{
			"name" : "连江县",
			"link" : "http://www.baidu.com"
		},{
			"name" : "长乐市",
			"link" : "http://www.baidu.com"
		},{
			"name" : "闽侯县",
			"link" : "http://www.baidu.com"
		},{
			"name" : "闽清县",
			"link" : "http://www.baidu.com"
		}];
		$.get('map/json/350100.json', function (mapJson) {
		    echarts.registerMap('350100', mapJson);
		    var chart = echarts.init(document.getElementById('main'));
		    var option = {
		        series: [{
		        	name: 'maps',
		            type: 'map',
		            map: '350100',
		            selectedMode : 'single',
		            itemStyle:{
		            	//正常情况下地图区域的样式
		                normal:{
		                	label:{
			                	show:true,
			                	textStyle: {
			                		color : "#000",//区域标注文字颜色
			                		fontSize: 14//区域标注文字大小
			                	}
			                },
		                	areaColor: "#dee9ef",//地图区域背景色
		                	borderColor: "#07529d",//地图区域边线颜色
		                	borderWidth: 2,//地图区域边线宽度
		                	//以下注释掉的是边线阴影的属性
		                	/*shadowBlur: 3,
		                	shadowColor: "#9fcfe8",
		                	shadowOffsetX: -1,
		                	shadowOffsetY: -1,*/
		                	opacity: 1//地图区域透明度
		                },
		                //选中情况下地图区域的样式，各参数参考上面的内容
		                emphasis:{
		                	label:{
			                	show:true,
			                	textStyle: {
			                		color : "#fff",
			                		fontSize: 14
			                	}
			                },
		                	areaColor: "#07529d",
		                	borderColor: "#07529d",
		                	borderWidth: 15,
		                	opacity: 1
		            	}
		            },
		            //各个区域对应的value值越大，颜色越深，颜色的起止范围设置在下方的dataRange的color中，value的取值在dataRange的min和max之间
				    data:[{
				    	"name": "福州市            ",
				    	"value":900,

				    },{
				    	"name": "长乐市      ",
				    	"value":500,
				    	
				    },{
				    	"name": "福清市\n\n",
				    	"value":500,
				    	
				    },{
				    	"name": "连江县          ",
				    	"value":100,
				    	
				    },{
				    	"name": "罗源县   ",
				    	"value":100,
				    	
				    },{
				    	"name": "闽侯县          ",
				    	"value":100,
				    	
				    },{
				    	"name": "闽清县",
				    	"value":100,
				    	
				    },{
				    	"name": "永泰县",
				    	"value":100,
				    	
				    }]
				    
		        }],
		        dataRange: {
			        min: 0,
			        max: 2500,
			        x: -1000,
			        y: 'bottom',
			        text:['高','低'],        
			        calculable : true,
			        color: ["#07529d","#dee9ef"]
			    }
		    }
		    chart.setOption(option);
		    chart.on('mapselectchanged',function(data){
		    	var name = data.name;
		    	var link = "";
		    	/*for(var i=0;i<mapLink.length;i++){
		    		if(mapLink[i].name.trim() == name.trim()){
		    			link = mapLink[i].link;
		    			chart.setOption(option);
		    			window.open(link);
		    		}
		    	}*/
		    	for(var i=0;i<mapLink.length;i++){
		    		if(trim(mapLink[i].name) == trim(name)){
		    			link = mapLink[i].link;
		    			chart.setOption(option);
		    			window.open(link);
		    		}
		    	}
		    	
		    });
		    window.onresize = chart.resize;
		});
	});	
	function trim(s){
		return s.replace(/\s/g,"");
	}	
	</script>
</body>
</html>

	