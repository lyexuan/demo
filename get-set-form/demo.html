<!DOCTYPE html>
<html>
<head>
	<title>get-set-form</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="css/templet.css">
	<style>
	  /* body{
      font-family: 'Microsoft Yahei';
    } */
		thead th{
			border-bottom: 1px solid #000;
		}
		pre{
			border: 1px solid #ddd;
			padding: 14px;
			background: #f1f1f1;
			border-radius: 4px;
		}
		.container{
			background: #fff;
			max-width: 960px;
			margin: 20px auto;
			padding: 20px;
			border-radius: 6px;
			box-shadow: 1px 1px 3px #999;
		}
		.text-danger{
			color: #f44336;
		}
	</style>
</head>
<body>
	
  <div class="container">
  	<h1>GSForm 批量操作表单组件</h1>
	  <hr>
	  <h2>一、API</h2>
	  <table>
	  	<thead>
	  		<tr>
	  			<td>方法</td>
	  			<td>参数</td>
	  			<td>返回值</td>
	  			<td>描述</td>
	  		</tr>
	  	</thead>	
  		<tbody>
  			<tr>
  				<td>$.GSForm.get()</td>
  				<td>无</td>
  				<td>对象数组</td>
  				<td>元素用id识别，其中同名的radio元素指定第一个radio的id即可</td>
  			</tr>
  			<tr>
  				<td>$.GSForm.set(data,callback)</td>
  				<td>对象数组,回调函数</td>
  				<td>无</td>
  				<td>
            <p>回调函数对象包括：</p>
            <ul>
              <li>beforeSetData: function(){}</li>
            </ul>
          </td>
  			</tr>
  			<tr>
  				<td>$.GSForm.getTable(tableId)</td>
  				<td>表格的id</td>
  				<td>对象数组</td>
  				<td></td>
  			</tr>
  			<tr>
  				<td>$.GSForm.setTable(data,tableId)</td>
  				<td>对象数组,表格的id</td>
  				<td>无</td>
  				<td></td>
  			</tr>
  			<tr>
  				<td>$.GSForm.advanceTable(tableId)</td>
  				<td>表格的id</td>
  				<td>无</td>
  				<td>给表格增加添加删除行的功能，表格的html结构一定要按照demo中给出的样子，另外demo中的'增强型表格'相关样式要添加到页面公共css文件中</td>
  			</tr>
  			<tr>
  				<td>$.GSForm.required()</td>
  				<td>无</td>
  				<td>无</td>
  				<td>简单执行以下这句代码，使表单具备值改变的时候，检验必填的功能，需要校验的项，都需具备class="required"，并且有关联关系的radio和checkbox要设置相同的name值</td>
  			</tr>
  			<tr>
  				<td>$.GSForm.valid()</td>
  				<td>无</td>
  				<td>Boolean</td>
  				<td>对整个页面的必填项做校验，并且让第一个不通过验证的项获得焦点</td>
  			</tr>
  			<tr>
  				<td>$.GSForm.autoInputWidth()</td>
  				<td>无</td>
  				<td>无</td>
  				<td>-</td>
  			</tr>
  			<tr>
  				<td>$.GSForm.advanceInfoGroup(wrapId,moreInfo,callback)</td>
  				<td>容器id,插值数组（非必传）</td>
  				<td>无</td>
  				<td>
            <p>参看demo第七点'增减'类表格'模式的输入框组'，html结构要完全遵循demo中的两个例子，其中第二个例子传入了插值数组['牵头人','成员一','成员二','成员三','成员四'],数据里的条目将会替换模板中的占位符###yx###</p>
            <p>回调函数对象包括：</p>
            <ul>
              <li>afterAddInfoGroup: function(){}</li>
            </ul>
          </td>
  			</tr>
  			<tr>
  				<td>$.GSForm.getInfoGroup(wrapId,callback)</td>
  				<td>容器id</td>
  				<td>对象数组</td>
  				<td>
            <p>参看demo第七点'增减'类表格'模式的输入框组'</p>
            <p>回调函数对象包括：</p>
            <ul>
              <li>beforeGetInfoGroup: function(){}</li>
            </ul>
          </td>
  			</tr>
  			<tr>
  				<td>$.GSForm.setInfoGroup(data,wrapId,moreInfo,callback)</td>
  				<td>对象数组,容器id,插值数组（非必传）</td>
  				<td>无</td>
  				<td>
            <p>参看demo第七点'增减'类表格'模式的输入框组'</p>
            <p>回调函数对象包括：</p>
            <ul>
              <li>afterSetInfoItem: function(){}</li>
            </ul>
          </td>
  			</tr>
  			<tr>
  				<td>$.GSForm.complexAdvanceTable(wrapId)</td>
  				<td>容器的id</td>
  				<td>无</td>
  				<td>给复杂表格增加功能，使其能够增加或者删除某一组及某一行</td>
  			</tr>
  			<tr>
  				<td>$.GSForm.getComplexAdvanceTable(wrapId)</td>
  				<td>容器的id</td>
  				<td>对象数组</td>
  				<td>获取复杂表格的数据</td>
  			</tr>
  			<tr>
  				<td>$.GSForm.setComplexAdvanceTable(data,wrapId)</td>
  				<td>对象数组,容器的id</td>
  				<td>无</td>
  				<td>初始化复杂表格的数据</td>
  			</tr>
        <tr>
          <td>$.GSForm.advanceEasyTable(tbodyId,templateId,callback)</td>
          <td>目标tbody的id，模板的id，回调函数对象集合</td>
          <td>无</td>
          <td>
            <p>回调函数对象包括:</p>
            <ul>
              <li>afterCreateBtn: function($btnAdd,$btnDel){}</li>
              <li>afterAddRow: function(){}</li>
              <li>afterDelRow: function(){}</li>
            </ul>
          </td>
        </tr>
  		</tbody>
	  	
	  </table>


	  <h2>二、演示</h2>

    <p class="text-danger">点击'获取数据'可以测试必填项的校验</p>
	  <button id="get">获取数据</button>
	  <button id="set">设置数据</button>
	  <button id="getTable">批量获取表格数据</button>
	  <button id="setTable">批量设置表格数据</button>

	  <P><strong>设置数据是用的测试数据：</strong></P>
	  <pre>var testData = [
    	{"name":"test.text","value":"some text"},
    	{"name":"test.radio","value":"test.radio2"},
    	{"name":"test.checkbox1","value":""},
    	{"name":"test.checkbox3","value":""},
    	{"name":"test.select","value":"option2"},
    	{"name":"test.textarea","value":"this is a textarea"}
    ],
    testData2 = [
    	{"man":"x1","number":"xx1","require":"xxx1"},
    	{"man":"x2","number":"xx2","require":"xxx2"}
    ];</pre>

	  <p>
	  	text:
	  	<input type="text" id="test.text" name="test.text" placeholder="测试低版本ie的placeholder" class="required">
	  </p>
	  <p>
	  	text2:
	  	<input type="text" id="test.text2" name="test.text2" placeholder="text2" class="required">
	  </p>
	  <p>
	    radio:
	    <input type="radio" id="test.radio1" name="test.radio" value="radio1" class="required">radio1
	    <input type="radio" id="test.radio2" name="test.radio" value="radio2" class="required">radio2
	    <input type="radio" id="test.radio3" name="test.radio" value="radio3" class="required">radio3
	  </p>
	  <p>
	    checkbox:
	    <input type="checkbox" id="test.checkbox1" name="test.checkbox" class="required">checkbox1
	    <input type="checkbox" id="test.checkbox2" name="test.checkbox" class="required">checkbox2
	    <input type="checkbox" id="test.checkbox3" name="test.checkbox" class="required">checkbox3
	  </p>
	  <p>
	  	select:
	  	<select id="test.select" name="test.select" class="required">
	  		<option value="">--请选择--</option>
	  		<option value="option1">option1</option>
	  		<option value="option2">option2</option>
	  	</select>
	  </p>
	  <p>
	  	textarea:
	  	<textarea name="test.textarea" id="test.textarea" class="required body-textarea" placeholder="textarea placeholder"></textarea>
	  </p>
    <p>
      span:
      <span type="input" id="test.span">有效的span</span>
      <span>无效的span</span>
    </p>

	  <table id="divMenu">
      <thead>
        <tr>
          <td data-name="man">人  员</td>
          <td data-name="number">数  量</td>
          <td data-name="require">资 格 要 求</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><textarea></textarea></td>
          <td><textarea></textarea></td>
          <td><textarea></textarea></td>
        </tr>
      </tbody>
      <tbody class="addtr"></tbody>
      <tbody class="ACE_HIDDEN_TABLE" style="display: none">
        <tr id="templatetr" class="templatetr">
          <td><textarea></textarea></td>
          <td><textarea></textarea></td>
          <td><textarea></textarea></td>
        </tr>
      </tbody>
    </table>

    <h2>三、placeholder兼容性处理</h2>
    <p>1.css</p>
    <pre>.text-placeholder{color: #aaa;}</pre>
    <p>2.js</p>
    <pre>$('input[type="text"]').textPlaceholder();</pre>

    <h2>四、插入图片</h2>
    <div class="pictures" id="pictures" name="test.image"></div> 
    <div class="btn-add-img" id="btn-add-img" target="pictures">插入图片</div>   

    <h2>五、输入框自动增长</h2>
    <p>文档加载好后执行如下代码即可：</p>
    <pre>$.GSForm.autoInputWidth();</pre>

    <h2>六、textarea自动增长</h2>
    <p>默认显示3-5行，因此组件初始化的时候传一个最小高度进去，高度的数值是16的倍数，一行则是16，两行则是32，如：</p>
    <pre>jQuery("textarea[class*=textarea]").TextAreaExpander(48);</pre>

    <h2>七、select组合选框</h2>
    <div class="group-select" id="group-select">
	    <select class="" name="ZZLB1" id="ZZLB1" selectGroup="group0">
	      <option value="请选择" group="group0">---请选择---</option>
	      <option value="公路工程施工一级资质" group="group1">公路工程施工一级资质</option>
        <option value="公路工程施工二级资质" group="group1">公路工程施工二级资质</option>
        <option value="公路工程施工三级资质" group="group1">公路工程施工三级资质</option>
        <option value="公路工程施工特级资质" group="group1">公路工程施工特级资质</option>
        <option value="公路路基工程一级企业" group="group2">公路路基工程一级企业</option>
        <option value="公路路基工程二级企业" group="group2">公路路基工程二级企业</option>
        <option value="公路路基工程三级企业" group="group2">公路路基工程三级企业</option>
        <option value="公路路面工程一级企业" group="group3">公路路面工程一级企业</option>
        <option value="公路路面工程二级企业" group="group3">公路路面工程二级企业</option>
        <option value="公路路面工程三级企业" group="group3">公路路面工程三级企业</option>
        <option value="桥梁工程一级企业" group="group4">桥梁工程一级企业</option>
        <option value="桥梁工程二级企业" group="group4">桥梁工程二级企业</option>
        <option value="桥梁工程三级企业" group="group4">桥梁工程三级企业</option>
        <option value="隧道工程一级企业" group="group5">隧道工程一级企业</option>
        <option value="隧道工程二级企业" group="group5">隧道工程二级企业</option>
        <option value="隧道工程三级企业" group="group5">隧道工程三级企业</option>
	    </select>
	    <select class="" name="ZZLB2" id="ZZLB2" style="display: none;" selectGroup="group0">
	      <option value="请选择" group="group0">---请选择---</option>
	      <option value="公路工程施工一级资质" group="group1">公路工程施工一级资质</option>
        <option value="公路工程施工二级资质" group="group1">公路工程施工二级资质</option>
        <option value="公路工程施工三级资质" group="group1">公路工程施工三级资质</option>
        <option value="公路工程施工特级资质" group="group1">公路工程施工特级资质</option>
        <option value="公路路基工程一级企业" group="group2">公路路基工程一级企业</option>
        <option value="公路路基工程二级企业" group="group2">公路路基工程二级企业</option>
        <option value="公路路基工程三级企业" group="group2">公路路基工程三级企业</option>
        <option value="公路路面工程一级企业" group="group3">公路路面工程一级企业</option>
        <option value="公路路面工程二级企业" group="group3">公路路面工程二级企业</option>
        <option value="公路路面工程三级企业" group="group3">公路路面工程三级企业</option>
        <option value="桥梁工程一级企业" group="group4">桥梁工程一级企业</option>
        <option value="桥梁工程二级企业" group="group4">桥梁工程二级企业</option>
        <option value="桥梁工程三级企业" group="group4">桥梁工程三级企业</option>
        <option value="隧道工程一级企业" group="group5">隧道工程一级企业</option>
        <option value="隧道工程二级企业" group="group5">隧道工程二级企业</option>
        <option value="隧道工程三级企业" group="group5">隧道工程三级企业</option>
	    </select>
	    <div class="ctrl add">+</div>
	    <div class="ctrl del" style="display: none;">-</div>
    </div>

    <h2>八、增减'类表格'模式的输入框组</h2>
    <button id="get2">获取数据</button>
    <button id="set2">设置数据</button>
    <div id="info-group" class="info-group">
      联合体各成员单位内部的职责分工如下：
      <div class="info-group-body info-group-body-inline">

	      <div class="info-item info-item-inline">
		      <input type="text" data-name="man" placeholder="" class="info-unit"></input>承担
		      <input type="text" data-name="project" placeholder="" class="info-unit"></input>专业工程，
		      占总工程量的<input type="text" data-name="percent" placeholder="" class="info-unit"></input>%;
	      </div>
	      <div class="info-item info-item-inline">
		      <input type="text" data-name="man" placeholder="" class="info-unit"></input>承担
		      <input type="text" data-name="project" placeholder="" class="info-unit"></input>专业工程，
		      占总工程量的<input type="text" data-name="percent" placeholder="" class="info-unit"></input>%;
	      </div>

      </div>
      
      <div class="ctrl add">+</div>
      <div class="ctrl del">-</div>

      <div class="template">
	      <div class="info-item info-item-inline">
		      <input type="text" data-name="man" placeholder="" class="info-unit"></input>承担
		      <input type="text" data-name="project" placeholder="" class="info-unit"></input>专业工程，
		      占总工程量的<input type="text" data-name="percent" placeholder="" class="info-unit"></input>%;
	      </div>
      </div>

    </div>

    <button id="get3">获取数据</button>
    <button id="set3">设置数据</button>
    <div id="info-group2" class="info-group">
    	<div class="info-group-body">
	      <div class="info-item">
		      <p>牵头人名称：<input type="text" data-name="man1" placeholder="" class="info-unit"></input>（盖单位章）</p>
		      <p>法定代表人：<input type="text" data-name="man2" placeholder="" class="info-unit"></input>（签字）</p>
	      </div>
	      <div class="info-item">
		      <p>成员一名称：<input type="text" data-name="man1" placeholder="" class="info-unit"></input>（盖单位章）</p>
		      <p>法定代表人：<input type="text" data-name="man2" placeholder="" class="info-unit"></input>（签字）</p>
	      </div>
      </div>
      
      <div class="ctrl add">+</div>
      <div class="ctrl del">-</div>

      <div class="template">
	      <div class="info-item">
		      <p>###yx###名称：<input type="text" data-name="man1" placeholder="" class="info-unit"></input>（盖单位章）</p>
		      <p>法定代表人：<input type="text" data-name="man2" placeholder="" class="info-unit"></input>（签字）</p>
	      </div>
      </div>

    </div>

    <h2>九、复杂表格</h2>
    <button id="get4">获取数据</button>
    <button id="set4">设置数据</button>
    <div class="complex-table" id="complex-table">
    	<div class="complex-table-content">
    		<table>
	    		<thead>
	    			<tr>
	    				<td data-name="index">序号</td>
	    				<td data-name="name">姓名</td>
	    				<td data-name="age">年龄</td>
	    			</tr>
	    		</thead>
	    		<tbody>
	    			<tr>
	    				<td rowspan="2"><textarea></textarea></td>
	    				<td><textarea></textarea></td>
	    				<td><textarea></textarea></td>
	    			</tr>
	    			<tr>
	    				<td><textarea></textarea></td>
	    				<td><textarea></textarea></td>
	    			</tr>
	    		</tbody>
	    	</table>
    	</div>
    	<table class="complex-table-template">
    		<tbody>
    			<tr>
    				<td><textarea></textarea></td>
    				<td><textarea></textarea></td>
    				<td><textarea></textarea></td>
    			</tr>
    		</tbody>
    	</table>
    </div>

    <h2>十、表格新增一行简易脚本，带回调</h2>
    <button id="get5">获取数据</button>
    <button id="set5">设置数据</button>
    <div class="advance-table-wrap">
      <table>
        <thead>
          <tr>
            <td>序号</td>
            <td>姓名</td>
            <td>年龄</td>
            <td>描述</td>
          </tr>
        </thead>
        <tbody id="easy-tbody" data-name='["num","name","age"]'>
          <tr>
            <td><textarea></textarea></td>
            <td><textarea></textarea></td>
            <td><textarea></textarea></td>
            <td rowspan="2"><textarea></textarea></td>
          </tr>
          <tr>
            <td><textarea></textarea></td>
            <td><textarea></textarea></td>
            <td><textarea></textarea></td>
          </tr>
        </tbody>
      </table>
      <table id="easy-table" style="display: none;">
        <tbody>
          <tr>
            <td><textarea></textarea></td>
            <td><textarea></textarea></td>
            <td><textarea></textarea></td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>

  <script src="js/jquery-1.4.2.min.js"></script>
	<script src="js/get-set-form.js"></script>
	<script src="js/jquery.textarea-expander.js"></script>
  <script src="js/jquery.textPlaceholder.js"></script>
	<script src="js/json2.js"></script>
	
  <script>
    var testData = [
    	{"name":"test.text","value":"some text"},
    	{"name":"test.radio","value":"test.radio2"},
    	{"name":"test.checkbox1","value":""},
    	{"name":"test.checkbox3","value":""},
    	{"name":"test.select","value":"option2"},
    	{"name":"test.textarea","value":"this is a textarea"},
      {"name":"test.span","value":"span"},
    ],
    testData2 = [
    	{"man":"x1","number":"xx1","require":"xxx1"},
    	{"man":"x2","number":"xx2","require":"xxx2"}
    ];
  	$(function(){
  		/*给表单的操作行为添加通用校验*/
  		$.GSForm.required();
  		/*给表单的操作行为添加通用校验*/

  		/*批量操作表单*/
  		$('#get').click(function(){
  			/*验证必填*/
  			if($.GSForm.valid()){
  				var data = $.GSForm.get();
  				alert(JSON.stringify(data));
  			}
  		});
  		$('#set').click(function(){
  			$.GSForm.set(testData);
  		});
  		$('#getTable').click(function(){
  			var data = $.GSForm.getTable('divMenu');
  			alert(JSON.stringify(data));
  		});
  		$('#setTable').click(function(){
  			$.GSForm.setTable(testData2,'divMenu');
  		});
  		/*批量操作表单*/

  		/*表格增减行操作*/
      $.GSForm.advanceTable('divMenu');
  		/*表格增减行操作*/

  		/*placeholder*/
      $('input[type="text"],textarea').textPlaceholder();
  		/*placeholder*/

  		/*插入图片以及图片查看*/
      //插入图片的容器，即class="pictures"的div要给定一个name值，值和普通的输入框类似，有着相同的前缀，具体名称为'前缀.image'
  		$('.btn-add-img').click(function(){
        var $this = $(this),
            target = $this.attr('target');
  			/*测试*/
  			testAddImage(target);
  			/*测试*/

  			/*正式使用*/
        //AddImage(target,'BidderBasicInfo.Img');
  			/*正式使用*/
  		});
      $('.btn-del-img').click(function(){
        var $this = $(this),
            delImgPath = $this.attr('delImgPath');
        if(confirm('确定要删除该图片?')){
          window.external.DeleteImg(delImgPath);
          $this.parent().parent().remove();
        }
      });

  		function testAddImage(target){
  			var html = '',
  			    $html;
  			for(var i=1;i<=5;i++){
  				html += '<div class="picture-item"><img src="img/img-' + i + '.jpg"><div class="btn-container"><span class="btn-del-img">删除</span></div></div>'
  			}

  			$html = $(html);
  			$html.find('.btn-del-img').click(function(){
          if(confirm('确定要删除该图片?')){
            alert('删除');
          }
  			});
  			$('#' + target).append($html);
  		}

  		//插入图片
      function AddImage(divId) {
        var imgValue = window.external.AddImage(divId);
        if (imgValue != "") {
          var sizeArry = imgValue.split(',');
          //src:sizeArry[0],width:sizeArry[2],height:sizeArry[3],DelImgPath:sizeArry[1]
          appendImage(divId,sizeArry[0]);
        }
      }
      //在给定的容器中增加一个图片
      function appendImage(divId,imagePath){
        var html = '<div class="picture-item"><img src="' + imagePath + '"><div class="btn-container"><span class="btn-del-img" delImgPath="' + imagePath + '">删除</span></div></div>';
        var $html = $(html);
        $html.find('.btn-del-img').click(function(){
          var $this = $(this),
          delImgPath = $this.attr('delImgPath');
          if(confirm('确定要删除该图片?')){
            window.external.DeleteImg(delImgPath);
            $this.parent().parent().remove();
          }
        });
        $('#' + divId).append($html); 
      }
  		/*插入图片以及图片查看*/

  		/*输入框自动增长*/
  		$.GSForm.autoInputWidth();
  		/*输入框自动增长*/

      /*textarea自动增高*/
      $('textarea').TextAreaExpander(72);
      /*textarea自动增高*/

  		/*select组合选框*/
  		/*var selectGroups = {
  			"group1": ['公路工程施工一级资质','公路工程施工二级资质','公路工程施工三级资质','公路工程施工特级资质'],
  			"group2": ['公路路基工程一级企业','公路路基工程二级企业','公路路基工程三级企业'],
  			"group3": ['公路路面工程一级企业','公路路面工程二级企业','公路路面工程三级企业'],
  			"group4": ['桥梁工程一级企业','桥梁工程二级企业','桥梁工程三级企业'],
  			"group5": ['隧道工程一级企业','隧道工程三级企业','隧道工程四级企业']
  		};*/

  		initGroupSelect();
  		function initGroupSelect(){
  			var groupSelect = {
	  			$s: $('#group-select'),
	  			$s1: $('#group-select').children('select:eq(0)'),
	  			$s2: $('#group-select').children('select:eq(1)'),
	  			$add: $('#group-select').children('.add'),
	  			$del: $('#group-select').children('.del')
	  		};
	  		groupSelect.$add.click(function(){
	  			switchBtn(groupSelect.$del,groupSelect.$add);
	  			groupSelect.$s2.show();
	  		});
	  		groupSelect.$del.click(function(){
	  			groupSelect.$s2.hide();
	  			switchBtn(groupSelect.$add,groupSelect.$del);
	  		});

	  		groupSelect.$s1.bind('select change',function(){
	  			ctrlOption($(this),groupSelect.$s2);  			             
	  		});
	  		groupSelect.$s2.bind('select change',function(){
	  			ctrlOption($(this),groupSelect.$s1);			             
	  		});

	  		function switchBtn($btnShow,$btnHide){
	  			$btnHide.hide();
	  			$btnShow.css('display','inline');
	  		}

	  		function ctrlOption($src,$dest){
	  			var $this = $src,
	  			    value = $this.val(),
	  			    $op = $this.children('option:selected'),
	  			    group = $op.attr('group'),
	  			    $dop = $dest.children('option');

	  			$this.attr('selectGroup',group);

	  			$dop.attr('disabled',false);
          if(group!=='group0'){
          	$dop.filter('[group="' + group + '"]').attr('disabled',true);
          }	
	  		}

  		}
  		/*select组合选框*/

  		/*增减'类表格'模式的输入框组*/
  		var testData3 = [
  			{"man":"1","project":"1","percent":"1"},
  			{"man":"2","project":"2","percent":"2"}
  		];
  		var testData4 = [
  			{"man1":"1","man2":"1"},
  			{"man1":"2","man2":"2"}
  		];
  		$.GSForm.advanceInfoGroup('info-group',[],{
        afterAddInfoGroup: function(){
          alert('成功添加一组内容');
        }
      });
  		$('#get2').click(function(){
				var data = $.GSForm.getInfoGroup('info-group');
				alert(JSON.stringify(data));
  		});
  		$('#set2').click(function(){
  			$.GSForm.setInfoGroup(testData3,'info-group');
  		});

  		$.GSForm.advanceInfoGroup('info-group2',['牵头人','成员一','成员二','成员三','成员四']);
  		$('#get3').click(function(){
				var data = $.GSForm.getInfoGroup('info-group2');
				alert(JSON.stringify(data));
  		});
  		$('#set3').click(function(){
  			$.GSForm.setInfoGroup(testData4,'info-group2',['牵头人','成员一','成员二','成员三','成员四']);
  		});
  		/*增减'类表格'模式的输入框组*/

  		/*复杂表格*/
  		var testData5 = [
  		  {"index":"1","content":[{"name":"2","age":"3"},{"name":"4","age":"5"}]},
  		  {"index":"2","content":[{"name":"6","age":"7"},{"name":"8","age":"9"}]}
  		];
  		$.GSForm.complexAdvanceTable('complex-table');
  		$('#get4').click(function(){
				var data = $.GSForm.getComplexAdvanceTable('complex-table');
				alert(JSON.stringify(data));
  		});
  		$('#set4').click(function(){
				var data = $.GSForm.setComplexAdvanceTable(testData5,'complex-table');
  		});
  		/*复杂表格*/

      /*textarea宽度调节*/
      $('.body-textarea').each(function(){
        var $this = $(this),
            width = $this.width();

        $this.width(width - 22);
      });
      /*textarea宽度调节*/

      /*表格新增一行简易脚本，带回调*/
      $.GSForm.advanceEasyTable('easy-tbody','easy-table',{
        afterCreateBtn: function($btnAdd,$btnDel){
          var $tbody = $('#easy-tbody'),
              $td = $('#easy-tbody>tr:first>td:last'),
              rowspan = parseInt($td.attr('rowspan'));
          
          $btnDel.css({'right':'auto','left':$td.offset().left - $tbody.offset().left + 1});    
        },
        afterAddRow   : function(){
          var $td = $('#easy-tbody>tr:first>td:last'),
              rowspan = parseInt($td.attr('rowspan'));

          $td.attr('rowspan',++rowspan);
        },
        afterDelRow   : function(){
          var $td = $('#easy-tbody>tr:first>td:last'),
              rowspan = parseInt($td.attr('rowspan'));

          $td.attr('rowspan',--rowspan);
        }
      });
      $('#get5').click(function(){
        var data = $.GSForm.getAdvanceEasyTable('easy-tbody');
        alert(JSON.stringify(data));
      });
      $('#set5').click(function(){
        $.GSForm.setAdvanceEasyTable([{num:1,name:1,age:1},{num:2,name:2,age:2},{num:3,name:3,age:3}],'easy-tbody');
      });
      /*表格新增一行简易脚本，带回调*/
  	});
  </script>
</body>
</html>