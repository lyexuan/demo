<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=lD8XbAhpBEqfueGrYkVt35zLzPRyRcYX"></script>
	
	<title>demo</title>
</head>
<body>
	<a href="javascript:getLocationInfo();">点击获取地理位置信息</a>
</body>
</html>
<script type="text/javascript">
	var geolocation = new BMap.Geolocation();
	function getLocationInfo(){
	    geolocation.getCurrentPosition(function (r) {  
	        if (this.getStatus() == BMAP_STATUS_SUCCESS) {  
	            var mk = new BMap.Marker(r.point);  
	            currentLat = r.point.lat;  
	            currentLon = r.point.lng;  
	            // SetCookie("curLat", currentLat, 1); //设置cookie  
	            // SetCookie("curLng", currentLon, 1); //设置cookie             
	            // var pt = new BMap.Point(currentLon, currentLat);  
	            // var geoc = new BMap.Geocoder();  
	            // geoc.getLocation(pt, function (rs) {  
	            // var addComp = rs.addressComponents;  
	            // SetCookie("curLat", currentLat, 1); //设置cookie  
	            // SetCookie("curLng", currentLon, 1); //设置cookie  
	                       
	            // var city = addComp.city;  
	            // var addComp = rs.addressComponents;  
	            // var texts = addComp.district + "-" + addComp.street + "-" + addComp.streetNumber;  
	            // //获取地理位置成功，跳转  
	            alert("lat: " + currentLat + " ,lng: " + currentLon);       
	                  
	  
	            //}  
	        }
	    });
    }
</script>